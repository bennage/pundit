<template>

	<button click.trigger="toggleFilter()">
		<div if.bind="isFiltered">Show all files</div>
		<div if.bind="!isFiltered">Show only markdown</div>
	</button>

	<div class="repository">

		<section class="tree">

			<div class="name" title="${sha}">
				<i class="fa fa-sitemap"></i>
				<a href="http://github.com/${owner}/${repo}" target="_new">${owner}/${repo}</a>
			</div>

			<compose
				model.bind="treeFiltered"
				view="tree.html">
			</compose>

			<div class="with-comments" if.bind="filesWithComments.length > 0">
				<h2>Files with comments</h2>
				<ul>
					<li repeat.for="item of filesWithComments">
						<i class="fa fa-file-o"></i>
						<a href="#/${item.url}">${item.name}</a>
						<span class="badge">${item.count}</span>
					</li>
				</ul>
			</div>
		</section>

		<section class="document">
			<router-view></router-view>
		</section>

	</div>

</template>
